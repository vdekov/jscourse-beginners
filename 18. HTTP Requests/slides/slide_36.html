<form>
   <input type="file" name="file">
</form>

<script type="text/javascript">
function uploadFile() {
   var xhr = new XMLHttpRequest();
   xhr.open( 'POST', 'hello-file.php', true );
   xhr.onload = function () {
      var div = document.createElement('div');
      div.innerHTML = this.responseText;
      document.body.appendChild( div );
   }
   // observe progress
   xhr.upload.onprogress = function ( e ) {
      if ( e.lengthComputable ) {
         console.log(
            'Progress:',
            Math.round((e.loaded / e.total) * 100) + '%'
         );
      }
   }
   // send the form data using FormData
   xhr.send( new FormData( document.querySelector('form') ) );
}
</script>